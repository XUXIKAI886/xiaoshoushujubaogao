# 常见问题解决方案

## 🐛 问题分类和解决策略

### 1. 需求理解偏差

#### 问题表现
- AI实现的功能与预期不符
- 功能过于复杂或过于简单
- 遗漏重要的边界情况

#### 解决方案
```
预防措施：
1. 使用用户故事格式描述需求
   "作为[用户角色]，我希望[功能描述]，以便[价值/目的]"

2. 提供具体的验收标准
   - 明确的输入输出示例
   - 边界条件的处理方式
   - 错误情况的处理逻辑

3. 使用原型或线框图
   - 画出界面布局
   - 标注交互流程
   - 说明数据流向

修复措施：
1. 立即停止当前实现
2. 重新澄清需求
3. 提供更详细的规格说明
4. 要求AI确认理解后再继续
```

#### 实例对比
```
❌ 模糊需求：
"我需要一个用户管理功能"

✅ 清晰需求：
"我需要一个用户管理功能，包括：
- 用户注册：邮箱+密码，需要邮箱验证
- 用户登录：支持记住登录状态
- 用户资料：可编辑姓名、头像、个人简介
- 权限管理：普通用户和管理员两种角色
- 用户列表：管理员可查看所有用户并禁用账户"
```

### 2. 技术方案不当

#### 问题表现
- 选择了不适合的技术栈
- 架构设计过度复杂或过度简化
- 性能问题或扩展性问题

#### 解决方案
```
预防措施：
1. 明确技术约束
   - 现有技术栈
   - 团队技能水平
   - 性能要求
   - 部署环境

2. 要求AI提供多种方案
   "请提供3种不同的技术方案，并分析各自的优缺点"

3. 分阶段验证技术选择
   - 先做技术验证（POC）
   - 再进行完整实现

修复措施：
1. 评估当前方案的问题
2. 分析替代方案的可行性
3. 制定迁移计划
4. 逐步重构而非重写
```

### 3. 代码质量问题

#### 问题表现
- 代码结构混乱，难以维护
- 缺乏错误处理
- 没有测试用例
- 性能问题

#### 解决方案
```
预防措施：
1. 建立代码规范
   - 命名约定
   - 文件组织结构
   - 注释规范
   - 错误处理模式

2. 要求测试驱动开发
   "请先写测试用例，然后实现功能"

3. 分模块开发
   每个模块都要有清晰的职责和接口

修复措施：
1. 代码审查和重构
2. 补充测试用例
3. 优化性能瓶颈
4. 改善错误处理
```

### 4. 上下文丢失问题

#### 问题表现
- AI不记得之前的设计决策
- 新功能与现有代码风格不一致
- 重复实现已有功能
- 破坏现有的架构模式

#### 解决方案
```
预防措施：
1. 建立完善的项目文档
2. 使用Augment的记忆功能
3. 每次对话都提供上下文摘要
4. 保持代码的自文档化

修复措施：
1. 重新建立上下文
2. 审查和修正不一致的代码
3. 更新项目文档
4. 要求AI重新学习项目结构
```

## 🔧 具体问题的解决模板

### 问题1：AI实现的功能过于复杂

#### 识别信号
- 代码行数远超预期
- 引入了不必要的依赖
- 功能包含了未要求的特性

#### 解决模板
```
对话示例：
"我发现你实现的功能比我需要的复杂很多。我只需要一个简单的[具体功能]，但你实现了[列出多余的功能]。

请重新实现，只包含以下核心功能：
1. [核心功能1]
2. [核心功能2]
3. [核心功能3]

不需要包含：
- [不需要的功能1]
- [不需要的功能2]

请保持代码简洁，遵循KISS原则。"
```

### 问题2：AI破坏了现有的代码结构

#### 识别信号
- 新代码的风格与现有代码不一致
- 破坏了现有的设计模式
- 引入了重复的功能

#### 解决模板
```
对话示例：
"你添加的代码破坏了项目的现有结构。我们的项目遵循[架构模式]，但你的实现使用了[不一致的模式]。

请重新实现，确保：
1. 遵循现有的[具体模式]
2. 使用项目中已有的[工具类/服务类]
3. 保持与[参考文件]相同的代码风格

请先查看[相关文件列表]，理解现有的实现模式后再开始。"
```

### 问题3：AI没有处理错误情况

#### 识别信号
- 代码缺乏try-catch块
- 没有输入验证
- 没有考虑网络错误等异常情况

#### 解决模板
```
对话示例：
"你的实现缺乏错误处理。请添加以下错误处理：

1. 输入验证：
   - [具体的验证规则]
   - 返回清晰的错误信息

2. 异常处理：
   - 网络请求失败
   - 数据库操作失败
   - 文件操作失败

3. 用户友好的错误提示：
   - 不要直接显示技术错误信息
   - 提供解决建议

请参考项目中[错误处理示例文件]的模式。"
```

### 问题4：性能问题

#### 识别信号
- 页面加载缓慢
- 数据库查询效率低
- 内存使用过高

#### 解决模板
```
对话示例：
"实现的功能存在性能问题：[具体描述问题]

请优化以下方面：
1. 数据库查询：
   - 添加必要的索引
   - 优化查询语句
   - 实现分页加载

2. 前端性能：
   - 实现懒加载
   - 优化渲染逻辑
   - 减少不必要的重新渲染

3. 缓存策略：
   - [具体的缓存需求]

目标性能指标：[具体指标]"
```

## 🚀 提高协作效率的技巧

### 1. 使用检查清单

#### 功能开发前检查
```
- [ ] 需求是否明确具体？
- [ ] 是否提供了验收标准？
- [ ] 是否说明了技术约束？
- [ ] 是否考虑了错误处理？
- [ ] 是否需要测试用例？
```

#### 代码审查检查
```
- [ ] 代码风格是否一致？
- [ ] 是否遵循项目架构？
- [ ] 错误处理是否完善？
- [ ] 是否有适当的注释？
- [ ] 性能是否可接受？
```

### 2. 建立反馈循环

#### 快速验证策略
```
1. 最小实现：先实现核心功能
2. 快速测试：立即验证是否符合预期
3. 及时反馈：发现问题立即指出
4. 迭代改进：基于反馈逐步完善
```

#### 反馈模板
```
正面反馈：
"这个实现很好，特别是[具体优点]。请继续实现[下一个功能]。"

建设性反馈：
"实现的方向正确，但需要调整[具体问题]。建议[具体改进方案]。"

重大问题反馈：
"这个实现偏离了需求，主要问题是[问题描述]。让我们重新开始，首先[具体步骤]。"
```

### 3. 分阶段开发

#### 阶段划分原则
```
阶段1：核心功能（MVP）
- 最基本的功能实现
- 能够演示主要价值
- 可以进行基础测试

阶段2：完善功能
- 添加错误处理
- 改善用户体验
- 优化性能

阶段3：扩展功能
- 添加高级特性
- 集成第三方服务
- 完善文档
```

### 4. 有效的调试策略

#### 问题定位流程
```
1. 重现问题
   - 记录具体的操作步骤
   - 确定问题的触发条件
   - 收集错误信息

2. 隔离问题
   - 确定问题的范围
   - 排除无关因素
   - 找到最小重现案例

3. 分析原因
   - 检查相关代码
   - 分析数据流
   - 查看日志信息

4. 制定解决方案
   - 评估多种修复方案
   - 选择最佳方案
   - 考虑副作用
```

## 📋 问题预防检查清单

### 项目启动阶段
- [ ] 需求分析是否完整？
- [ ] 技术方案是否合理？
- [ ] 开发计划是否现实？
- [ ] 风险评估是否充分？

### 开发过程中
- [ ] 每个功能是否有明确的验收标准？
- [ ] 代码是否遵循项目规范？
- [ ] 是否及时更新文档？
- [ ] 是否定期进行代码审查？

### 功能完成后
- [ ] 功能是否通过所有测试？
- [ ] 性能是否满足要求？
- [ ] 错误处理是否完善？
- [ ] 文档是否更新？

### 项目交付前
- [ ] 所有功能是否正常工作？
- [ ] 代码质量是否达标？
- [ ] 文档是否完整？
- [ ] 部署是否成功？

## 🎯 成功协作的关键要素

### 1. 清晰的沟通
- 使用具体、明确的语言
- 提供充分的上下文信息
- 及时给出反馈

### 2. 合理的期望
- 理解AI的能力边界
- 设定现实的目标
- 接受迭代改进的过程

### 3. 系统的方法
- 遵循标准的开发流程
- 使用合适的工具和模板
- 建立有效的质量控制

### 4. 持续的学习
- 从每个项目中总结经验
- 不断改进协作方式
- 保持开放的心态
