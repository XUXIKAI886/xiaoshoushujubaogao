# 美团外卖转化漏斗分析功能说明

## 📊 功能概述

针对美团外卖店铺的转化漏斗数据截图，我们专门优化了AI分析提示词，能够准确识别和提取转化漏斗中的关键数据，并生成专业的对比分析报告。

## 🎯 支持的数据格式

### 转化漏斗截图结构
```
左侧黄色区域（本店数据）          右侧蓝色区域（同行均值）
┌─────────────────────┐        ┌─────────────────────┐
│  5.43%              │        │     10,833人        │
│  入店转化率          │        │     曝光人数        │
│                     │        │                     │
│  6.07%              │        │     670人           │
│  下单转化率          │        │     入店人数        │
└─────────────────────┘        │                     │
                               │     98人            │
┌─────────────────────┐        │     下单人数        │
│  40,047人           │        │                     │
│  曝光人数            │        │     6.18%          │
│                     │        │     入店转化率      │
│  2,173人            │        │                     │
│  入店人数            │        │     14.63%         │
│                     │        │     下单转化率      │
│  132人              │        │                     │
│  下单人数            │        └─────────────────────┘
└─────────────────────┘
```

### 数据提取内容
1. **本店数据**：
   - 曝光人数、入店人数、下单人数
   - 入店转化率、下单转化率

2. **同行均值数据**：
   - 曝光人数、入店人数、下单人数
   - 入店转化率、下单转化率

3. **对比分析**：
   - 曝光差距分析
   - 转化率差距分析
   - 竞争地位评估

## 🔧 技术实现

### 1. AI提示词优化

在 `js/api.js` 文件的 `buildAnalysisPrompt` 方法中，我们增加了专门的转化漏斗识别指导：

```javascript
### 特别注意：转化漏斗数据识别
如果截图显示的是转化漏斗图（通常为黄色和蓝色的漏斗形状），请按以下格式提取：
- **左侧黄色区域**：本店铺数据
  - 第一列：入店转化率(%)、下单转化率(%)
  - 第二列：曝光人数、入店人数、下单人数
- **右侧蓝色区域**：同行均值数据
  - 第一列：曝光人数、入店人数、下单人数  
  - 第二列：入店转化率(%)、下单转化率(%)
- **数据周期**：通常为30天数据
```

### 2. JSON输出格式扩展

增加了专门的转化漏斗数据结构：

```json
{
  "extractedData": {
    "conversionFunnel": {
      "dataPeriod": "30天",
      "storeData": {
        "exposure": "曝光人数",
        "visits": "入店人数", 
        "orders": "下单人数",
        "visitRate": "入店转化率(%)",
        "orderRate": "下单转化率(%)"
      },
      "industryAverage": {
        "exposure": "同行曝光人数",
        "visits": "同行入店人数",
        "orders": "同行下单人数", 
        "visitRate": "同行入店转化率(%)",
        "orderRate": "同行下单转化率(%)"
      },
      "comparison": {
        "exposureGap": "曝光差距分析",
        "conversionGap": "转化率差距分析",
        "competitivePosition": "竞争地位评估"
      }
    }
  }
}
```

### 3. 图表类型优化

针对转化漏斗数据，优化了图表生成配置：

```json
{
  "type": "bar",
  "title": "转化漏斗对比分析",
  "description": "本店与同行转化数据对比",
  "data": {
    "categories": ["曝光人数", "入店人数", "下单人数"],
    "series": [
      {"name": "本店数据", "values": [40047, 2173, 132]},
      {"name": "同行均值", "values": [10833, 670, 98]}
    ],
    "unit": "人"
  }
}
```

## 🧪 测试功能

### 专用测试页面
创建了 `funnel-test.html` 专门用于测试转化漏斗分析功能：

1. **功能特点**：
   - 专门针对转化漏斗数据的界面设计
   - 详细的数据格式说明
   - 演示模式支持
   - 实时分析结果展示

2. **使用方法**：
   ```bash
   # 在浏览器中打开
   open funnel-test.html
   
   # 或通过本地服务器访问
   python -m http.server 8000
   # 然后访问 http://localhost:8000/funnel-test.html
   ```

### 演示数据
在 `js/demo-data.js` 中添加了 `CONVERSION_FUNNEL_DEMO` 演示数据，包含：
- 完整的转化漏斗数据结构
- 专业的对比分析
- 针对性的优化建议
- 可视化图表配置

## 📈 分析能力

### 1. 数据对比分析
- **流量对比**：本店 vs 同行的曝光量、入店量、下单量
- **转化率对比**：入店转化率和下单转化率的差距分析
- **效率评估**：转化漏斗各环节的效率评估

### 2. 竞争地位评估
- **优势识别**：流量获取能力、转化效率等优势点
- **劣势分析**：转化率低、流量浪费等问题点
- **机会挖掘**：基于数据差距的优化机会

### 3. 优化建议
- **立即执行**：紧急优化措施
- **短期优化**：1-2周内的改进计划
- **中长期规划**：持续优化策略

## 🎯 使用场景

### 1. 日常运营分析
- 定期上传转化漏斗截图
- 监控转化率变化趋势
- 对比同行业绩表现

### 2. 优化效果评估
- 优化前后数据对比
- 转化率提升效果验证
- ROI计算和评估

### 3. 竞争分析
- 与同行数据对比
- 市场地位评估
- 差异化策略制定

## 🔍 关键指标解读

### 1. 入店转化率
- **计算公式**：入店人数 ÷ 曝光人数 × 100%
- **行业标准**：一般在5-8%之间
- **优化方向**：店铺首页设计、商品展示、品牌形象

### 2. 下单转化率
- **计算公式**：下单人数 ÷ 入店人数 × 100%
- **行业标准**：一般在10-20%之间
- **优化方向**：商品定价、促销活动、用户体验

### 3. 整体转化率
- **计算公式**：下单人数 ÷ 曝光人数 × 100%
- **综合指标**：反映整体运营效率
- **优化策略**：全链路优化，提升各环节转化效率

## 📝 使用建议

### 1. 数据收集
- **频率**：建议每周收集一次转化漏斗数据
- **时间**：选择稳定的时间段（如周三）进行数据截图
- **完整性**：确保截图包含所有关键数据

### 2. 分析重点
- **关注差距**：重点分析与同行的差距
- **找准问题**：识别转化率最低的环节
- **制定计划**：基于分析结果制定具体的优化计划

### 3. 持续优化
- **定期监控**：建立定期分析机制
- **效果跟踪**：跟踪优化措施的效果
- **策略调整**：根据数据变化调整优化策略

## 🚀 未来扩展

### 1. 功能增强
- 支持多时间段数据对比
- 增加趋势分析功能
- 添加预测分析能力

### 2. 数据源扩展
- 支持更多平台的转化漏斗数据
- 集成实时数据接口
- 支持批量数据分析

### 3. 分析深度
- 增加用户行为分析
- 添加季节性因素分析
- 提供个性化优化建议

---

## 📞 技术支持

如有问题或建议，请通过以下方式联系：
- 查看项目文档：`README.md`
- 技术方案：`文档/技术方案设计.md`
- 最佳实践：`文档/AI协作开发最佳实践指南.md`
